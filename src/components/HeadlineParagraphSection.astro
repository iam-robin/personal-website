---
import Grid from "./Grid.astro";
import GridItem, { type BreakpointValue } from "./GridItem.astro";
import Link from "./Link.astro";
import Button from "./Button.astro";

interface Props {
    class?: string;
    title?: string;
    linkText?: string;
    linkUrl?: string;
    contentStart?: number | BreakpointValue;
    contentEnd?: number | BreakpointValue;
    buttonStyle?: boolean;
    buttonIcon?: any;
    headlineSize?: "base" | "md" | "lg" | "xl";
    isFirstElement?: boolean;
}

const {
    title,
    linkText,
    linkUrl,
    class: classes,
    contentStart = 5,
    contentEnd,
    buttonStyle,
    headlineSize = "xl",
    isFirstElement = false,
} = Astro.props;
---

<hgroup>
    <Grid
        class={`mb-6 sm:mb-8 lg:mb-16 ${isFirstElement ? "pt-32 pb-24" : ""} ${classes}`}
    >
        <GridItem colStart={1} colEnd={4}>
            <h3 class={`text-${headlineSize} font-bold`}>
                {title ? title : <slot name="title" />}
            </h3>
        </GridItem>
        <GridItem
            colStart={contentStart}
            colEnd={contentEnd ?? (linkText && linkUrl ? 10 : 12)}
            class="text-base font-mono mt-3 sm:mt-0"
        >
            <slot />
        </GridItem>
        {
            linkText && linkUrl && (
                <GridItem
                    colStart={10}
                    colEnd={13}
                    class="flex lg:justify-end items-start mt-6 sm:mt-3 lg:mt-0"
                >
                    {buttonStyle ? (
                        <Button href={linkUrl}>{linkText}</Button>
                    ) : (
                        <Link href={linkUrl} external>
                            {linkText}
                        </Link>
                    )}
                </GridItem>
            )
        }
    </Grid>
</hgroup>
