---
interface Props {
    years: string[];
    selectedYear: string;
    hasMerkliste: boolean;
    bookCounts: Record<string, number>;
}

const { years, selectedYear, hasMerkliste, bookCounts } = Astro.props;

// Sort years descending (newest first)
const sortedYears = [...years].sort((a, b) => Number(b) - Number(a));
---

<div class="flex flex-col gap-2 md:flex-row md:gap-4 md:items-center">
    <p class="font-bold shrink-0">Books read in</p>
    <ul class="flex flex-wrap gap-1">
        {
            sortedYears.map((year) => (
                <li>
                    <a
                        href={`/books/year/${year}`}
                        class:list={[
                            "pl-2 py-1 pr-1 rounded",
                            selectedYear === year
                                ? "bg-surface-raised text-text-primary"
                                : "text-text-muted",
                        ]}
                    >
                        {year}
                        <sup>{bookCounts[year] || 0}</sup>
                    </a>
                </li>
            ))
        }
        <!-- {
            hasMerkliste && (
                <a
                    href="/books/year/want-to-read"
                    class:list={[
                        "flex items-center px-3 py-1 font-mono text-xs rounded-full border transition-all duration-200 no-underline",
                        selectedYear === "want-to-read"
                            ? "border-blue bg-blue text-surface hover:border-blue hover:text-surface"
                            : "border-border bg-surface text-current hover:border-blue hover:text-blue",
                    ]}
                >
                    want to read
                    <span
                        class:list={[
                            "ml-1",
                            selectedYear === "want-to-read"
                                ? "text-surface/70"
                                : "text-text-muted",
                        ]}
                    >
                        ({bookCounts["want-to-read"] || 0})
                    </span>
                </a>
            )
        } -->
    </ul>
</div>
