---
import HeadlineParagraphSection from "@components/HeadlineParagraphSection.astro";
import Carousel from "../carousel/Carousel.astro";
import CarouselItem from "../carousel/CarouselItem.astro";
import PostcardItem from "./PostcardItem.astro";

interface Postcard {
    author: string;
    body: string;
    date: Date;
    websiteUrl?: string | null;
    marginBottom?: number | null;
    marginRight?: number | null;
    rotation?: number | null;
    penColor?: string | null;
    paperColor?: string | null;
    fontSizeFactor?: number | null;
    lineHeight?: number | null;
    authorLeftOffset?: number | null;
    authorTopOffset?: number | null;
    authorRotation?: number | null;
    dateLeftOffset?: number | null;
    dateTopOffset?: number | null;
    dateRotation?: number | null;
    bodyLeftOffset?: number | null;
    bodyTopOffset?: number | null;
    bodyRotation?: number | null;
    stampSvg?: string | null;
    country?: string | null;
    postOfficeStampTop?: number | null;
    postOfficeStampRight?: number | null;
    postOfficeStampRotation?: number | null;
    wavyStampTop?: number | null;
    wavyStampRight?: number | null;
    wavyStampRotation?: number | null;
}

interface Props {
    postcards: Postcard[];
    hasLink?: boolean;
}

const { postcards, hasLink } = Astro.props;

const link = {
    href: "/postcards",
    text: "All Postcards",
};
---

<Carousel link={hasLink ? link : undefined}>
    {
        postcards.map((postcard) => (
            <CarouselItem largeSpan={6} paddingBottom={64} paddingTop={24}>
                <PostcardItem
                    author={postcard.author}
                    body={postcard.body}
                    date={postcard.date}
                    websiteUrl={postcard.websiteUrl ?? undefined}
                    marginBottom={postcard.marginBottom ?? undefined}
                    marginRight={postcard.marginRight ?? undefined}
                    rotation={postcard.rotation ?? undefined}
                    penColor={postcard.penColor ?? undefined}
                    paperColor={postcard.paperColor ?? undefined}
                    fontSizeFactor={postcard.fontSizeFactor ?? undefined}
                    lineHeight={postcard.lineHeight ?? undefined}
                    authorLeftOffset={postcard.authorLeftOffset ?? undefined}
                    authorTopOffset={postcard.authorTopOffset ?? undefined}
                    authorRotation={postcard.authorRotation ?? undefined}
                    dateLeftOffset={postcard.dateLeftOffset ?? undefined}
                    dateTopOffset={postcard.dateTopOffset ?? undefined}
                    dateRotation={postcard.dateRotation ?? undefined}
                    bodyLeftOffset={postcard.bodyLeftOffset ?? undefined}
                    bodyTopOffset={postcard.bodyTopOffset ?? undefined}
                    bodyRotation={postcard.bodyRotation ?? undefined}
                    stampSvg={postcard.stampSvg ?? undefined}
                    country={postcard.country ?? undefined}
                    postOfficeStampTop={
                        postcard.postOfficeStampTop ?? undefined
                    }
                    postOfficeStampRight={
                        postcard.postOfficeStampRight ?? undefined
                    }
                    postOfficeStampRotation={
                        postcard.postOfficeStampRotation ?? undefined
                    }
                    wavyStampTop={postcard.wavyStampTop ?? undefined}
                    wavyStampRight={postcard.wavyStampRight ?? undefined}
                    wavyStampRotation={postcard.wavyStampRotation ?? undefined}
                />
            </CarouselItem>
        ))
    }
</Carousel>
